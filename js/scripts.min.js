$(function(){function t(t){if(void 0!=t){var e=$("#"+t);$(".popout").not(document.getElementById(t)).removeClass("active"),e.hasClass("active")?e.removeClass("active"):e.addClass("active")}else $(".popout").removeClass("active")}function e(){1==localStorage.getItem("customwallpaper")?(s=1,$("#btn-customwallpaper").show(),$("#add-customwallpaper img").attr("src","img/check.svg")):(s=0,$("#btn-customwallpaper").hide(),$("#add-customwallpaper img").attr("src","img/uncheck.svg"))}function o(){1==localStorage.getItem("search")?(m=1,$(".search").fadeIn(),$("#add-search img").attr("src","img/check.svg"),$("#query").focus()):(m=0,$(".search").fadeOut(),$("#add-search img").attr("src","img/uncheck.svg"))}function r(){1==localStorage.getItem("countdowntimer")?(w=1,$("#btn-countdowntimer").show(),$("#add-countdowntimer img").attr("src","img/check.svg")):(w=0,$("#btn-countdowntimer").hide(),$("#add-countdowntimer img").attr("src","img/uncheck.svg"))}function a(){if(1==localStorage.getItem("customwallpaper")&&null!=localStorage.getItem("customwallpaperurl")&&""!=localStorage.getItem("customwallpaperurl"))$("body").css("background-image","url("+localStorage.getItem("customwallpaperurl")+")"),$("#input-customwallpaper").val(localStorage.getItem("customwallpaperurl"));else{var t;if(null===localStorage.getItem(p)){localStorage.removeItem(p);var e=new Image;e.crossOrigin="";var o=1e4*Math.random();e.src="https://unsplash.it/1920/1080/?random&element=body&version="+o,e.onload=function(){var o=document.createElement("canvas");o.width=1920,o.height=1080,document.body.appendChild(o);var r=o.getContext("2d");r.drawImage(e,0,0),t=o.toDataURL("image/jpeg"),localStorage.setItem(p,t),$("body").css("background-image","url("+t+")"),$("#btn-refresh").delay(1e3).removeClass("rotating")}}else t=localStorage.getItem(p),$("body").css("background-image","url("+t+")")}}function n(){if(null===h){var t=new Date,e=t.getHours(),o=t.getMinutes();0===d?(e%=12,e=e?e:12,e=0===e?"0"+e:e):e>12&&(e%=24,e=9>e?"0"+e:e),o=10>o?"0"+o:o;var r=e+":"+o;$(".clock h1").text(r),$(".widget.clock").fadeIn(1e3)}}function c(t){if("google"===t)return"https://google.com";if("facebook"===t)return"https://www.facebook.com";if("youtube"===t)return"https://www.youtube.com";if("yahoo"===t)return"https://yahoo.com";if("wiki"===t||"wikipedia"===t)return"http://wikipedia.org";if("twitter"===t)return"https://twitter.com";if("bing"===t)return"https://bing.com";if("pinterest"===t)return"https://www.pinterest.com";if("reddit"===t)return"https://www.reddit.com";if("wordpress"===t)return"https://wordpress.com";if("instagram"===t)return"https://instagram.com";if("tumblr"===t)return"https://www.tumblr.com";if("paypal"===t)return"https://www.paypal.com";if("imgur"===t)return"https://imgur.com";if("apple"===t)return"https://www.apple.com";if("microsoft"===t)return"https://www.microsoft.com";if("imdb"===t)return"https://www.imdb.com";if("stack overflow"===t)return"https://stackoverflow.com";if("craigslist"===t)return"http://craigslist.com";if("netflix"===t)return"https://www.netflix.com";if("bbc"===t)return"http://www.bbc.co.uk";if("cnn"===t)return"http://cnn.com";if("dropbox"===t)return"https://www.dropbox.com";if("github"===t)return"https://github.com";if("gmail"===t)return"http://mail.google.com";if("flickr"===t)return"https://www.flickr.com";if("yelp"===t)return"http://www.yelp.com";if("godaddy"===t)return"https://www.godaddy.com";if("vimeo"===t)return"https://vimeo.com";if("etsy"===t)return"https://www.etsy.com";if("cnet"===t)return"http://cnet.com";if("slideshare"===t)return"http://www.slideshare.com";if("deviantart"===t)return"http://www.deviantart.com";if("forbes"===t)return"http://www.forbes.com";if("twitch"===t)return"http://www.twitch.tv";if("soundcloud"===t)return"https://soundcloud.com";if("quora"===t)return"https://www.quora.com";if("mailchimp"===t)return"http://mailchimp.com";if("9gag"===t)return"http://9gag.com";if("lifehacker"===t)return"http://www.lifehacker.com";if("fiverr"===t)return"https://www.fiverr.com";if("gizmodo"===t)return"http://www.gizmodo.com";if("trello"===t)return"https://trello.com";if("evernote"===t)return"https://evernote.com";if("kickstarter"===t)return"https://www.kickstarter.com";if("outlook"===t)return"https://outlook.com";if("xe"===t)return"http://www.xe.com";var e=new RegExp(" ","g");return t=t.replace(e,"+"),"https://google.com/search?q="+t}function i(){h=window.setInterval(l,1e3)}function l(){if(g-=1,0>=g)return window.clearInterval(h),$(".clock h1").text("00:00").addClass("flashing"),void window.setTimeout(function(){h=null,$(".clock h1").removeClass("flashing"),$("#btn-countdowntimer").removeClass("rotating")},5e3);var t=Math.floor(g%31536e3%86400/3600),e=Math.floor(g%31536e3%86400%3600/60),o=g%31536e3%86400%3600%60;10>t&&(t="0"+t),10>e&&(e="0"+e),10>o&&(o="0"+o),$(".clock h1").text("00"===t?e+":"+o:t+":"+e+":"+o)}$(document).click(function(){t()}),$(".popout").click(function(t){t.stopPropagation()});var u=!1,s,m,w;$(document).mousemove(function(){$(".menu").addClass("active"),lastTimeMouseMoved=(new Date).getTime();var t=setTimeout(function(){var t=(new Date).getTime();u||$(".popout").hasClass("active")||t-lastTimeMouseMoved>1e3&&$(".menu").removeClass("active")},1e3)}),$(".icon").hover(function(){u=!0},function(){u=!1}),$(".icon").click(function(t){t.stopPropagation()}),$("#btn-addons").click(function(e){t("addons"),e.preventDefault()}),$("#btn-about").click(function(e){t("about"),e.preventDefault()}),$("#add-customwallpaper").click(function(t){0===s?localStorage.setItem("customwallpaper",1):localStorage.setItem("customwallpaper",0),e(),t.preventDefault()}),e(),$("#add-search").click(function(t){0===m?localStorage.setItem("search",1):localStorage.setItem("search",0),o(),t.preventDefault()}),o(),$("#add-countdowntimer").click(function(t){0===w?localStorage.setItem("countdowntimer",1):localStorage.setItem("countdowntimer",0),r(),t.preventDefault()}),r();var p=new Date;p=p.getDate()+"/"+(p.getMonth()+1)+"/"+p.getFullYear(),a(),$("#btn-refresh").click(function(t){localStorage.setItem("customwallpaper",0),s=0,localStorage.removeItem(p),$(this).addClass("rotating"),a(),t.preventDefault()}),$("#btn-customwallpaper").click(function(e){t("customwallpaper"),$("#input-customwallpaper").focus(),e.preventDefault()}),$("#input-customwallpaper").keypress(function(t){13==t.keyCode&&(localStorage.setItem("customwallpaperurl",$(this).val()),a(),popover())});var d;d=1==localStorage.getItem("military")?1:0,n(),window.setInterval(n,100);var f={weekday:"long",year:"numeric",month:"long",day:"numeric"};$(".date h2").text((new Date).toLocaleDateString("en-GB",f)),$(".widget.date").fadeIn(1e3),$("#btn-clock").click(function(t){$(".widget.clock").stop(!0,!0).hide().fadeIn(500),1===d?(localStorage.setItem("military",0),d=0):(localStorage.setItem("military",1),d=1),n(),t.preventDefault()}),$("#query").val="",$("#query").keypress(function(t){13===t.keyCode&&(window.location=c($(this).val()))}),$("#btn-countdowntimer").click(function(e){t("countdown"),$("#input-countdown").focus(),e.preventDefault()});var g=0,h=null;$("#input-countdown").keypress(function(e){13===e.keyCode&&(isNaN($(this).val())||($(this).val()>86400?$("#countdown .error").text("Cannot countdown over 24 hours").show():$(this).val()<1?$("#countdown .error").text("Number must be positive").show():($("#countdown .error").hide(),g=$(this).val(),window.clearInterval(h),h=null,i(),$("#btn-countdowntimer").addClass("rotating"),t())))})});